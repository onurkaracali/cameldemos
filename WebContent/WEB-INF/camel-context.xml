<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns:jaxws="http://cxf.apache.org/jaxws"
	xmlns:camel="http://camel.apache.org/schema/spring"
	xmlns:cxf="http://camel.apache.org/schema/cxf"
	xsi:schemaLocation="
            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
            http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd
            http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd
            http://camel.apache.org/schema/cxf http://camel.apache.org/schema/cxf/camel-cxf.xsd">


	<import resource="classpath:META-INF/cxf/cxf.xml"/>
	
	<bean id="camelRoutesBuilder" class="com.cd.web.routing.CamelRouteBuilder"/>
	
	<bean id="responseGenerator" class="com.cd.web.routing.ResultGenerator"/>
	
	<cxf:cxfEndpoint id="helloService"
					 address="/hello"	 
					 serviceClass="com.cd.web.service.HelloCxfService"
					 wsdlURL="hello_1.wsdl">
	</cxf:cxfEndpoint>
					 
  	<camel:camelContext xmlns="http://camel.apache.org/schema/spring">
<!--   		<camel:routeBuilder ref="camelRoutesBuilder"/> 	 -->
  				
		<camel:route>
			<camel:from uri="cxf:bean:helloService" />
			<camel:convertBodyTo type="com.cd.web.dto.HelloInputDTO"></camel:convertBodyTo>
			<camel:unmarshal>
				<camel:jaxb contextPath="com.cd.web.dto" partClass="com.cd.web.dto.HelloInputDTO"/>
			</camel:unmarshal>
			<camel:to uri="log:LOGGER_CML"/>
			<camel:transform>
				<camel:method bean="responseGenerator" method="getResponse"></camel:method>
			</camel:transform>
					
		</camel:route>
  	</camel:camelContext>
</beans>